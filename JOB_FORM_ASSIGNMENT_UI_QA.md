# Job Form Builder + Assignment UI Q&A (SmartRecruit AI)

> ูุฐุง ุงูููู ูุฌุงูุจ ุนูู ุฃุณุฆูุชู ุจูุงุกู ุนูู ุงููุถุน ุงูุญุงูู ุจุงููุดุฑูุน (Next.js App Router ุฏุงุฎู `src/app` + UI components ุฏุงุฎู `src/components`).

## 1๏ธโฃ ุฃุณุฆูุฉ ุนู ูุงุฌูุฉ ุฅูุดุงุก ุงููุธููุฉ (Job Form Builder)
### ูู ุนูุฏู ุตูุญุฉ Job Form Builder ุฌุงูุฒุฉุ
- **ูุนูุ ููุฌูุฏุฉ ูุดุบุงูุฉ (ุฌุฒุฆูุงู)**:
  - ุฅูุดุงุก ูุธููุฉ: `src/app/[locale]/admin/jobs/new/page.tsx`
  - ุชุนุฏูู ูุธููุฉ: `src/app/[locale]/admin/jobs/[id]/edit/page.tsx`
  - ููุฌูุฏ โJob Details + Questions Builderโ (ุฅุถุงูุฉ ุฃุณุฆูุฉ / required / types: text/textarea/voice/file/urlโฆ).

### ุฅุฐุง ููุฌูุฏุฉุ ุดู ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉุ
- **Custom state management (useState)** ูู ุงูุฃุณุงุณู.
- ูู ุตูุญุฉ ุงูุฅูุดุงุก ููุฌุฏ **Auto-save draft** ุนุจุฑ `useAutoSave`:
  - `src/hooks/useAutoSave.ts`
- **ูุง ููุฌุฏ React Hook Form / Formik** ูุณุชุฎุฏููู ุฏุงุฎู Job Builder ุญุงููุงู (ุญุณุจ ุงูุจุญุซ ูู ุงููุดุฑูุน).

### ุดู UI Library ุงููุณุชุฎุฏูุ
- **shadcn/ui style components** + **Radix UI primitives** + **Tailwind CSS**
  - ุฃูุซูุฉ: `Button`, `Input`, `Select`, `Textarea`โฆ ูู `src/components/ui/*`
  - ุงูุตูุญุฉ ููุณูุง ููุชูุจุฉ ุจูTailwind classes.

## 2๏ธโฃ ุฃุณุฆูุฉ ุนู Assignment Configuration ูู Job Form
### ููู ุจุฏู ุชุถูู ุฅุนุฏุงุฏุงุช ุงูู Assignmentุ
**ุงููุถุน ุงูุญุงูู**: ูุง ูู โAssignment Configurationโ ุฌุงูุฒุฉ ุฏุงุฎู job builder.

### ุดู ุงูุฎูุงุฑ ุงููู ุจูุถููู (ุชูุตูุฉ ุญุณุจ ููููุชู ุงูุญุงููุฉ)ุ
ุฃูุถูู **ุงูุฎูุงุฑ 3 (ุฅุนุฏุงุฏุงุช ุนุงูุฉ ุฏุงุฎู Job Settings/Job Details)** ูููMVP:
- `Assignment Required: Yes/No`
- `Assignment Type: text_only | text_and_links`
- (ูุงุญูุงู) `Assignment Weight` ุฅุฐุง ุจุฏูู ุชุฑุจุทููุง ุจุงููAI scoring

**ููุดุ**
- ุฃุณูู ุชูุงูู ูุน ุงููMulti-step form (Step ุฏููุงูููู ูุธูุฑ/ูุฎุชูู).
- ูุง ุจูุฏุฎูู โููุน ุณุคุงู ุฌุฏูุฏโ ุฏุงุฎู Questions Builder (ุงูุฎูุงุฑ 2) ููุฐุง ูุนููุฏ ูุฃูู ูุญุชุงุฌ UI + storage + validation ุฌุฏูุฏ.
- ูุง ุจููุฑุถ Tab ุฌุฏูุฏ ูุงูู (ุงูุฎูุงุฑ 1) ุฅุฐุง ุจุฏูู MVP ุณุฑูุนโูููู ูููู Card ุฏุงุฎู ููุณ ุตูุญุฉ ุงูุฅูุดุงุก/ุงูุชุนุฏูู.

## 3๏ธโฃ ุฃุณุฆูุฉ ุนู ุชุฌุฑุจุฉ ุงูู Admin/HR
### ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูู Assignments ูููุธููุฉ โ ุตูุญุฉ ูููุตูุฉ ููุง ุถูู Job Builderุ
ุฃูุถูู **ุงูุฎูุงุฑ 1: ุถูู ุตูุญุฉ ุงูุชุนุฏูู ุงูุญุงููุฉ** ` /admin/jobs/[jobId]/edit ` (ููSection/Card ุฃู Tab UI).

**ููุดุ**
- ุนูุฏูู ุฃุตูุงู ุตูุญุฉ Edit ูููุง ูู ุดูุก job-related.
- ุฃุณุฑุน UX: ูุง ูู ุชููู ุฅุถุงูู ููุง routing ุฌุฏูุฏ.

### ุญุฐู ูุชุนุฏูู โAssignment Configurationโ
#### ุฃ) ุชุนุฏูู Assignment Configuration (ูุจู ูุง ุงููุชูุฏููู ูุดููููุง)
ุฃูุง ุจูุตุญ:
- **Admin ููุฏุฑ ูุนุฏู ูุต/ููุน/required** ุทุงููุง ุงูุชุนุฏูู ูู โConfigurationโ ุงูุฎุงุตุฉ ุจุงููุธููุฉ (ูุด ุฅุฌุงุจุฉ ุงููุชูุฏู).
- ุฅุฐุง ูุงู ููู Applicants ูุฏููุง ุณุงุจูุงู:
  - ุงูุฃูุถู ูููู ุงูุชุนุฏูู ูุคุซุฑ ุนูู **ุงููุชูุฏููู ุงูุฌุฏุฏ ููุท** (versioning) ุฃู ููุถุญ ุฃุซุฑู.

#### ุจ) ุญุฐู Assignment configuration ูู ุงููุธููุฉ
ูุฑุงุฑ UX/ุจูุงูุงุช:
- ุฅุฐุง ุญุฐูุช ุงููconfiguration:
  - **ูุง ุชุญุฐู ุฅุฌุงุจุงุช ุงููุชูุฏููู** (ุงุญุชูุธ ุจุงูุฅุฌุงุจุงุช) ููู ุงุนุชุจุฑ ุงููููุฉ โุบูุฑ ูุนุงูุฉ/Archivedโ ููุนุฑุถ ุงูุชุงุฑูุฎู.
  - ุงูุญุฐู ุงููCASCADE ูุฅุฌุงุจุงุช ููุฌูุฏุฉ ุบุงูุจุงู ุบูุฑ ูุฑุบูุจ ูุฃูู ูุฎุณุฑ ุจูุงูุงุช ุชูููู.

## 4๏ธโฃ ุฃุณุฆูุฉ ุนู ุชุฌุฑุจุฉ ุงููุชูุฏู (Applicant)
### ููู ุจุฏู ุชุนุฑุถ ุงููููุฉ ูู Multi-Step Formุ
**ุงููุถุน ุงูุญุงูู**: ุนูุฏูู `MultiStepForm` ูุฎุตุต (ูุด react-hook-form) ููุนูู validation ูููrequired ุญุณุจ ููุน ุงูุญูู:
- `src/components/form/multi-step-form.tsx`

**ุงูุชูุตูุฉ**:
- **Assignment ููStep ุฏููุงูููู** ูุธูุฑ ููุท ุฅุฐุง ูุงู ููู Assignment Config ูููุธููุฉ.
- ููุงูู ุงูููุชุฑุญ ุฏุงุฎู ุงููflow:
  - ุจุนุฏ `candidate` ููุจู `review` (ูุซูุงู ุจุนุฏ text-questions ููุจู media-questions ุฃู ูุจู review ูุจุงุดุฑุฉ).

### Rich Text Editor ููู text_fieldsุ
- **ูุง** ูููMVP: `textarea` ุนุงุฏู (ูุซู ุงูููุฌูุฏ ุญุงููุงู ูู ุฃูุงูู ูุซูุฑุฉ).
- ูุนู ูุงุญูุงู ุฅุฐุง ุงุญุชุฌุชูุง ุชูุณูู (TipTap/Quill) ููู ูุฒูุฏ ุชุนููุฏ + sanitation.

### ุนุฏุฏ ุงูุฑูุงุจุท
- **ุญุฏ ุฃูุตู ุซุงุจุช** (ูุซูุงู 5) ูููMVP (ูุชูุงุดู ูุน validation ุงูุดุงุฆุน).

### Labels ููุฑูุงุจุท
ุงูุชูุตูุฉ ูููMVP:
- **ุจุฏูู labels** (ูุฌุฑุฏ URLs)ุ ุฃู labels ุซุงุจุชุฉ ุจุณูุทุฉ.
ูุงุญูุงู:
- Admin ูุญุฏุฏ labels ุฅุฐุง ุจุฏูู UX ุฃุบูู.

## 5๏ธโฃ ุฃุณุฆูุฉ ุนู ุนุฑุถ ุงูุฅุฌุงุจุงุช ููู HR
### ููู ุจุฏู ุชุนุฑุถ ุฅุฌุงุจุฉ ุงููุชูุฏู ุนูู ุงููููุฉุ
ุฃูุถูู **ุงูุฎูุงุฑ 1: ุถูู Candidate Details** (ูุฃูู ุนูุฏูู ุฃุตูุงู ุตูุญุฉ `admin/candidates/[id]` ูููุง ุฃูุณุงู Answers/Docs/HR Evalโฆ).

ุฃู ุฅุฐุง ุจุฏูู UI ุฃูุธู:
- **Tab ูููุตู** ุฏุงุฎู ููุณ ุงูุตูุญุฉ (Overview / Assignments / Evaluation).

### ุนุฑุถ ุงููุต: formatted ุฃู plainุ
- **Plain text** ูููMVP (ูุน `whitespace-pre-wrap`).
- formatted ูุงุญูุงู ุฅุฐุง ุฏุฎููุง rich text.

### ููุฒุงุช ุฅุถุงููุฉุ
ุงูุฃุนูู ุฃููููุฉ ุนุงุฏุฉู:
- **Copy to clipboard** (ุณูู ููููุฏ)
- AI score ูููููุฉ: ูุงุญูุงู (ุฅุฐุง ุตุงุฑ ูู evaluation ูุฎุตุต ูููassignment)

## 6๏ธโฃ ุฃุณุฆูุฉ ุนู ุงูู Validation
### ููููุชูุฏูู ุฅุฐุง Assignment Required
ุงูุชูุตูุฉ:
- ููุณ ุณููู ุงูุญููู ุงููุทููุจุฉ ุญุงููุงู ูู `MultiStepForm`:
  - ูุง ููุฏุฑ ูููู โNext/Submitโ ุฅุฐุง ูุงุถู
  - error message ุชุญุช ุงูุญูู

### `text_fields` ุญุฏ ุฃุฏูู/ุฃูุตู
- ุญุฏ ุฃูุตู: **10,000** (ูุชูุงูู ูุน ููุท ุงููุตูุต ุงูุทูููุฉ)
- ุญุฏ ุฃุฏูู (ุงุฎุชูุงุฑู): **50** ุญุฑู ุฅุฐุง ุจุฏูู ุชููุนูุง ุฅุฌุงุจุงุช ูุงุฑุบุฉ/ุณุทุญูุฉ

### `link_fields` ุชุญูู ุงูุฑูุงุจุท
- ูููMVP: **format ููุท** (URL)
- ุชุญูู ุงููุตูู (HTTP HEAD) ูุงุญูุงู ูุฃูู ุจุทููุก ููููู ููุดู ูุฃุณุจุงุจ ุฎุงุฑุฌูุฉ.

## 7๏ธโฃ ุฃุณุฆูุฉ ุนู ุงูู State Management
### ูููMulti-Step Form
**ุงููุถุน ุงูุญุงูู**:
- `useState` ุฏุงุฎูู ูู `MultiStepForm` (`formData`, `errors`, `currentStep`)
- ูู ูู ุงูุชูุงู ููุฎุทูุฉ ูุชู ุนูู validation

### ููุญูุธ
**ุงููุถุน ุงูุญุงูู**:
- โSave on Next/Submitโ ุนูููุงู (ุงููsubmit ุงูููุงุฆู ูุณุชุฏุนู server action)
- ููุฌุฏ `recordProgress()` ูุชุณุฌูู/ุชุญุฏูุซ progress (ูููุณ ูุญูุธ ุงูุฅุฌุงุจุงุช ููุณูุง)

ุงูุชูุตูุฉ ูููAssignment Step:
- **Save on Next** (ุฅุฐุง ุจุฏูู ุญูุธ ุฌุฒุฆู) ุฃู ุญูุธ ูุงูู ุนูุฏ Submit ูุซู ุจุงูู ุงูุฃุณุฆูุฉ.

## 8๏ธโฃ ุฃุณุฆูุฉ ุนู Loading States & Feedback
**ุงููุถุน ุงูุญุงูู**:
- Admin pages ุชุณุชุฎุฏู `ToastContext` (`addToast`) + loading spinner ุนูู ุงูุฒุฑ.
- Applicant submit ูุธูุฑ overlay โSubmittingโฆโ.

ุงูุชูุตูุฉ:
- ูููAdmin: Toast + disabled button ุฃุซูุงุก ุงูุญูุธ.
- ูููApplicant: inline errors + submit loading overlay ูุซู ุงูููุฌูุฏ.

## 9๏ธโฃ ุฃุณุฆูุฉ ุนู Empty States
### ุฅุฐุง ูุง ูู assignments ูููุธููุฉ
- ูููApplicant: **ูุง ูุธูุฑ step**.
- ูููAdmin: Empty state ุฏุงุฎู Job Edit (Card ุชููู โNo Assignment configuredโ + ุฒุฑ Create).

## ๐ ุฃุณุฆูุฉ ุนู Responsive Design
**ุงููุถุน ุงูุญุงูู**: ุตูุญุงุช ุงูุฅุฏุงุฑุฉ ูุจููุฉ ุจูTailwind grids ูCards.

ุงูุชูุตูุฉ:
- Applicant: stack ุนููุฏู ุนูู mobileุ ุฑูุงุจุท ุชุญุช ุจุนุถ.
- Admin: full features ุนูู mobile ููููุ ุจุณ ุฅุฐุง ุจุฏูู ุณูุงุณุฉ: โView-only ุนูู mobileโ ูููู ูุงุญูุงู.

## 1๏ธโฃ1๏ธโฃ ุฃุณุฆูุฉ ุนู Accessibility (A11y)
**ุงููุถุน ุงูุญุงูู**:
- ูููููุงุช ูุซูุฑุฉ ูุจููุฉ ุนูู Radix (ุนูููุงู ุฌูุฏุฉ ูููkeyboard navigation).

ุงูุชูุตูุฉ:
- ุงูุญูุงุธ ุนูู labels/aria
- ุฑุณุงุฆู ุฃุฎุทุงุก ูุงุถุญุฉ
- focus styles (Tailwind + shadcn ุนุงุฏุฉู ููุฌูุฏุฉ)

## 1๏ธโฃ2๏ธโฃ ุฃุณุฆูุฉ ุชูููุฉ ุฅุถุงููุฉ
### File Structure ุชูุถููุ
ุญุณุจ ูุดุฑูุนู ุงูุญุงูู (App Router ุฏุงุฎู `src/app`):
- ุฃูุถูู **Option B (Tabs ุฏุงุฎู ุตูุญุฉ edit)** ูููMVP (ุฃุณุฑุน ูุชุบููุฑุงุช ุฃูู).

### Components Structure
ููุงูู ุนูู structure ุงูููุชุฑุญ (Feature-based ุฏุงุฎู `src/components/admin/assignments/*`) **ุฅุฐุง ูุฑุฑูุง ุชูุนูู ุงูููุฒุฉ**.
ููู ูููMVP ูููู ูุจุฏุฃ ุจููููู ูุงุญุฏ ุจุณูุท ุฏุงุฎู ุตูุญุฉ ุงููEdit ุซู ููุตู ูุงุญูุงู.


